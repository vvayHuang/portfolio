function ot(A){return A&&A.__esModule&&Object.prototype.hasOwnProperty.call(A,"default")?A.default:A}var B={exports:{}},K;function ut(){return K||(K=1,(function(A){function z(i,l){if(!(i instanceof l))throw new TypeError("Cannot call a class as a function")}function a(i,l,f){return l in i?Object.defineProperty(i,l,{value:f,enumerable:!0,configurable:!0,writable:!0}):i[l]=f,i}function F(i,l){return rt(i)||et(i,l)||nt(i,l)||tt()}function tt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nt(i,l){if(i){if(typeof i=="string")return R(i,l);var f=Object.prototype.toString.call(i).slice(8,-1);return f==="Object"&&i.constructor&&(f=i.constructor.name),f==="Map"||f==="Set"?Array.from(i):f==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f)?R(i,l):void 0}}function R(i,l){(l==null||l>i.length)&&(l=i.length);for(var f=0,Y=new Array(l);f<l;f++)Y[f]=i[f];return Y}function et(i,l){if(typeof Symbol<"u"&&Symbol.iterator in Object(i)){var f=[],Y=!0,V=!1,X=void 0;try{for(var k,L=i[Symbol.iterator]();!(Y=(k=L.next()).done)&&(f.push(k.value),!l||f.length!==l);Y=!0);}catch(Q){V=!0,X=Q}finally{try{Y||L.return==null||L.return()}finally{if(V)throw X}}return f}}function rt(i){if(Array.isArray(i))return i}(function(){function i(t){return["elInY+elHeight","elCenterY-".concat(t=0<arguments.length&&t!==void 0?t:30),"elCenterY","elCenterY+".concat(t),"elOutY-elHeight"]}var l,f,Y,V,X,k,L={fadeInOut:function(t,n){return n=1<arguments.length&&n!==void 0?n:0,{opacity:[i(0<arguments.length&&t!==void 0?t:30),[n,1,1,1,n]]}},fadeIn:function(t,n){return{opacity:[["elInY+elHeight",0<arguments.length&&t!==void 0?t:"elCenterY"],[1<arguments.length&&n!==void 0?n:0,1]]}},fadeOut:function(t,n){return{opacity:[[0<arguments.length&&t!==void 0?t:"elCenterY","elOutY-elHeight"],[1,1<arguments.length&&n!==void 0?n:0]]}},blurInOut:function(t,n){return n=1<arguments.length&&n!==void 0?n:20,{blur:[i(0<arguments.length&&t!==void 0?t:100),[n,0,0,0,n]]}},blurIn:function(t,n){return{blur:[["elInY+elHeight",0<arguments.length&&t!==void 0?t:"elCenterY"],[1<arguments.length&&n!==void 0?n:20,0]]}},blurOut:function(t,n){return{opacity:[[0<arguments.length&&t!==void 0?t:"elCenterY","elOutY-elHeight"],[0,1<arguments.length&&n!==void 0?n:20]]}},scaleInOut:function(t,n){return n=1<arguments.length&&n!==void 0?n:.6,{scale:[i(0<arguments.length&&t!==void 0?t:100),[n,1,1,1,n]]}},scaleIn:function(t,n){return{scale:[["elInY+elHeight",0<arguments.length&&t!==void 0?t:"elCenterY"],[1<arguments.length&&n!==void 0?n:.6,1]]}},scaleOut:function(t,n){return{scale:[[0<arguments.length&&t!==void 0?t:"elCenterY","elOutY-elHeight"],[1,1<arguments.length&&n!==void 0?n:.6]]}},slideX:function(t,n){return{translateX:[["elInY",0<arguments.length&&t!==void 0?t:0],[0,1<arguments.length&&n!==void 0?n:500]]}},slideY:function(t,n){return{translateY:[["elInY",0<arguments.length&&t!==void 0?t:0],[0,1<arguments.length&&n!==void 0?n:500]]}},spin:function(t,n){return t=0<arguments.length&&t!==void 0?t:1e3,{rotate:[[0,t],[0,1<arguments.length&&n!==void 0?n:360],{modValue:t}]}},flipX:function(t,n){return t=0<arguments.length&&t!==void 0?t:1e3,{rotateX:[[0,t],[0,1<arguments.length&&n!==void 0?n:360],{modValue:t}]}},flipY:function(t,n){return t=0<arguments.length&&t!==void 0?t:1e3,{rotateY:[[0,t],[0,1<arguments.length&&n!==void 0?n:360],{modValue:t}]}},jiggle:function(t,n){return t=0<arguments.length&&t!==void 0?t:50,n=1<arguments.length&&n!==void 0?n:40,{skewX:[[0,+t,2*t,3*t,4*t],[0,n,0,-n,0],{modValue:4*t}]}},seesaw:function(t,n){return t=0<arguments.length&&t!==void 0?t:50,n=1<arguments.length&&n!==void 0?n:40,{skewY:[[0,+t,2*t,3*t,4*t],[0,n,0,-n,0],{modValue:4*t}]}},zigzag:function(t,n){return t=0<arguments.length&&t!==void 0?t:100,n=1<arguments.length&&n!==void 0?n:100,{translateX:[[0,+t,2*t,3*t,4*t],[0,n,0,-n,0],{modValue:4*t}]}},hueRotate:function(t,n){return t=0<arguments.length&&t!==void 0?t:600,{"hue-rotate":[[0,t],[0,1<arguments.length&&n!==void 0?n:360],{modValue:t}]}}},Q=(l=["perspective","scaleX","scaleY","scale","skewX","skewY","skew","rotateX","rotateY","rotate"],f=["blur","hue-rotate","brightness"],Y=["translateX","translateY","translateZ"],V=["perspective","border-radius","blur","translateX","translateY","translateZ"],X=["hue-rotate","rotate","rotateX","rotateY","skew","skewX","skewY"],k={easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t},easeOutBounce:function(t){var n=7.5625,e=2.75;return t<1/e?n*t*t:t<2/e?n*(t-=1.5/e)*t+.75:t<2.5/e?n*(t-=2.25/e)*t+.9375:n*(t-=2.625/e)*t+.984375},easeInBounce:function(t){return 1-k.easeOutBounce(1-t)},easeOutBack:function(t){return 1+2.70158*Math.pow(t-1,3)+1.70158*Math.pow(t-1,2)},easeInBack:function(t){return 2.70158*t*t*t-1.70158*t*t}},new function t(){var n=this;z(this,t),a(this,"drivers",[]),a(this,"elements",[]),a(this,"frame",0),a(this,"debug",!1),a(this,"windowWidth",0),a(this,"windowHeight",0),a(this,"presets",L),a(this,"debugData",{frameLengths:[]}),a(this,"init",function(){n.findAndAddElements(),window.requestAnimationFrame(n.onAnimationFrame),n.windowWidth=document.body.clientWidth,n.windowHeight=document.body.clientHeight,window.onresize=n.onWindowResize}),a(this,"onWindowResize",function(){document.body.clientWidth===n.windowWidth&&document.body.clientHeight===n.windowHeight||(n.windowWidth=document.body.clientWidth,n.windowHeight=document.body.clientHeight,n.elements.forEach(function(e){return e.calculateTransforms()}))}),a(this,"onAnimationFrame",function(e){n.debug&&(n.debugData.frameStart=Date.now());var u,r={};n.drivers.forEach(function(s){r[s.name]=s.getValue(n.frame)}),n.elements.forEach(function(s){s.update(r,n.frame)}),n.debug&&n.debugData.frameLengths.push(Date.now()-n.debugData.frameStart),n.frame%60==0&&n.debug&&(u=Math.ceil(n.debugData.frameLengths.reduce(function(s,w){return s+w},0)/60),console.log("Average frame calculation time: ".concat(u,"ms")),n.debugData.frameLengths=[]),n.frame++,window.requestAnimationFrame(n.onAnimationFrame)}),a(this,"addDriver",function(e,u){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{};n.drivers.push(new N(e,u,r))}),a(this,"removeDriver",function(e){n.drivers=n.drivers.filter(function(u){return u.name!==e})}),a(this,"findAndAddElements",function(){n.elements=[],document.querySelectorAll(".lax").forEach(function(e){var u=[];e.classList.forEach(function(s){s.includes("lax_preset")&&(s=s.replace("lax_preset_",""),u.push(s))});var r=a({},"scrollY",{presets:u});n.elements.push(new P(".lax",n,e,r,0,{}))})}),a(this,"addElements",function(e,u,r){document.querySelectorAll(e).forEach(function(s,w){n.elements.push(new P(e,n,s,u,w,r))})}),a(this,"removeElements",function(e){n.elements=n.elements.filter(function(u){return u.selector!==e})}),a(this,"addElement",function(e,u,r){n.elements.push(new P("",n,e,u,0,r))}),a(this,"removeElement",function(e){n.elements=n.elements.filter(function(u){return u.domElement!==e})})});function Z(t,n){if(Array.isArray(t))return t;for(var e=Object.keys(t).map(function(w){return parseInt(w)}).sort(function(w,x){return x<w?1:-1}),u=e[e.length-1],r=0;r<e.length;r++){var s=e[r];if(n<s){u=s;break}}return t[u]}function $(t,o,e){var u=o.width,r=o.height,c=o.x,p=o.y;if(typeof t=="number")return t;var s,w=document.body.scrollHeight,x=document.body.scrollWidth,m=window.innerWidth,y=window.innerHeight,d=F((s=window.pageXOffset!==void 0,d=(document.compatMode||"")==="CSS1Compat",o=s?window.pageXOffset:(d?document.documentElement:document.body).scrollLeft,[s?window.pageYOffset:(d?document.documentElement:document.body).scrollTop,o]),2),o=d[0],c=c+d[1],d=c+u,p=p+o,o=p+r;return Function("return ".concat(t.replace(/screenWidth/g,m).replace(/screenHeight/g,y).replace(/pageHeight/g,w).replace(/pageWidth/g,x).replace(/elWidth/g,u).replace(/elHeight/g,r).replace(/elInY/g,p-y).replace(/elOutY/g,o).replace(/elCenterY/g,p+r/2-y/2).replace(/elInX/g,c-m).replace(/elOutX/g,d).replace(/elCenterX/g,c+u/2-m/2).replace(/index/g,e)))()}function N(t,n){var e=this,u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{};z(this,N),a(this,"getValueFn",void 0),a(this,"name",""),a(this,"lastValue",0),a(this,"frameStep",1),a(this,"m1",0),a(this,"m2",0),a(this,"inertia",0),a(this,"inertiaEnabled",!1),a(this,"getValue",function(r){var s=e.lastValue;return r%e.frameStep==0&&(s=e.getValueFn(r)),e.inertiaEnabled&&(r=s-e.lastValue,e.m1=.8*e.m1+r*(1-.8),e.m2=.8*e.m2+e.m1*(1-.8),e.inertia=Math.round(5e3*e.m2)/15e3),e.lastValue=s,[e.lastValue,e.inertia]}),this.name=t,this.getValueFn=n,Object.keys(u).forEach(function(r){e[r]=u[r]}),this.lastValue=this.getValueFn(0)}function P(t,n,e,u){var r=this,s=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,x=5<arguments.length&&arguments[5]!==void 0?arguments[5]:{};z(this,P),a(this,"domElement",void 0),a(this,"transformsData",void 0),a(this,"styles",{}),a(this,"selector",""),a(this,"groupIndex",0),a(this,"laxInstance",void 0),a(this,"onUpdate",void 0),a(this,"update",function(m,y){var c,d=r.transforms,p={};for(c in d){var o=d[c];m[c]||console.error("No lax driver with name: ",c);var O,E=F(m[c],2),h=E[0],C=E[1];for(O in o){var g,S=F(o[O],3),v=S[0],I=S[1],U=S[2],b=U===void 0?{}:U,T=b.modValue,M=b.frameStep,at=M===void 0?1:M,j=b.easing,S=b.inertia,U=b.inertiaMode,M=b.cssFn,b=b.cssUnit,b=b===void 0?"":b,j=k[j];y%at==0&&(j=(function(H,W,G,J){var D=0;if(H.forEach(function(it){it<G&&D++}),D<=0)return W[0];if(D>=H.length)return W[H.length-1];var q,_=(_=H[q=D-1],H=H[D],(G-_)/(H-_));return J&&(_=J(_)),q=W[q],W=W[D],q*(1-(_=_))+W*_})(v,I,T?h%T:h,j),S&&(g=C*S,U==="absolute"&&(g=Math.abs(g)),j+=g),g=(b||V.includes(O)?"px":X.includes(O)?"deg":"")=="px"?0:3,g=j.toFixed(g),p[O]=M?M(g,r.domElement):g+b)}}r.applyStyles(p),r.onUpdate&&r.onUpdate(m,r.domElement)}),a(this,"calculateTransforms",function(){r.transforms={};var m,y=r.laxInstance.windowWidth;for(m in r.transformsData)(function(c){var d=r.transformsData[c],p={},o=d.presets;(o===void 0?[]:o).forEach(function(v){var h,I=F(v.split(":"),3),C=I[0],g=I[1],v=I[2],I=window.lax.presets[C];I?(h=I(g,v),Object.keys(h).forEach(function(T){d[T]=h[T]})):console.error("Lax preset cannot be found with name: ",C)}),delete d.presets;for(var O in d)(function(E){var h=F(d[E],3),v=h[0],g=v===void 0?[-1e9,1e9]:v,v=h[1],v=v===void 0?[-1e9,1e9]:v,h=h[2],h=h===void 0?{}:h,C=r.domElement.getBoundingClientRect(),g=Z(g,y).map(function(I){return $(I,C,r.groupIndex)}),v=Z(v,y).map(function(I){return $(I,C,r.groupIndex)});p[E]=[g,v,h]})(O);r.transforms[c]=p})(m)}),a(this,"applyStyles",function(m){var y,c,d,p=(y=m,c={transform:"",filter:""},d={translateX:1e-5,translateY:1e-5,translateZ:1e-5},Object.keys(y).forEach(function(o){var O=y[o],E=V.includes(o)?"px":X.includes(o)?"deg":"";Y.includes(o)?d[o]=O:l.includes(o)?c.transform+="".concat(o,"(").concat(O).concat(E,") "):f.includes(o)?c.filter+="".concat(o,"(").concat(O).concat(E,") "):c[o]="".concat(O).concat(E," ")}),c.transform="translate3d(".concat(d.translateX,"px, ").concat(d.translateY,"px, ").concat(d.translateZ,"px) ").concat(c.transform),c);Object.keys(p).forEach(function(o){r.domElement.style.setProperty(o,p[o])})}),this.selector=t,this.laxInstance=n,this.domElement=e,this.transformsData=u,this.groupIndex=s;var w=(s=x.style)===void 0?{}:s,x=x.onUpdate;Object.keys(w).forEach(function(m){e.style.setProperty(m,w[m])}),x&&(this.onUpdate=x),this.calculateTransforms()}A.exports!==void 0?A.exports=Q:window.lax=Q})()})(B)),B.exports}var st=ut();const lt=ot(st),ct=Object.freeze(Object.defineProperty({__proto__:null,default:lt},Symbol.toStringTag,{value:"Module"}));export{ct as l};
